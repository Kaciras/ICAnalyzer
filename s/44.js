(()=>{"use strict";var e={3044:(e,t,r)=>{let n,a,o,i;var s={};r.r(s),r.d(s,{ColorSpace:()=>P,Quantization:()=>_,defaultOptions:()=>A,encode:()=>S});var u={};r.r(u),r.d(u,{decode:()=>O,defaultOptions:()=>k,encode:()=>E});var l={};r.r(l),r.d(l,{defaultOptions:()=>j,encode:()=>W});var c={};r.r(c),r.d(c,{AVIFTune:()=>R,Subsampling:()=>F,decode:()=>D,defaultOptions:()=>I,encode:()=>x});var p={};r.r(p),r.d(p,{Csp:()=>U,Subsample:()=>V,decode:()=>B,defaultOptions:()=>H,encode:()=>M});var d=r(3015),h=r(4120),f=r.n(h),v=(()=>{var e="file:///home/runner/work/ICAnalyzer/ICAnalyzer/lib/diff.js";return function(t={}){var n,a,o,i,s,u,l,c,p,d,h,f,v,y,m,g,$,b,w,C,T,P,_,A,S,k=new Promise((e,t)=>{n=e,a=t}),E=Object.assign({},t),O="";"undefined"!=typeof document&&document.currentScript&&(O=document.currentScript.src),e&&(O=e),O=O.startsWith("blob:")?"":O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1),o=(e,t,r)=>{fetch(e,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(Error(e.status+" : "+e.url))).then(t,r)};var j=t.print||console.log.bind(console),W=t.printErr||console.error.bind(console);Object.assign(t,E),E=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(s=t.wasmBinary);var F=!1;function R(){var e=u.buffer;t.HEAP8=l=new Int8Array(e),t.HEAP16=p=new Int16Array(e),t.HEAPU8=c=new Uint8Array(e),t.HEAPU16=d=new Uint16Array(e),t.HEAP32=h=new Int32Array(e),t.HEAPU32=f=new Uint32Array(e),t.HEAPF32=v=new Float32Array(e),t.HEAPF64=y=new Float64Array(e)}var I=[],x=[],D=[],V=0,U=null,H=null;function M(e){t.onAbort?.(e),W(e="Aborted("+e+")"),F=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw a(r),r}var B=e=>e.startsWith("data:application/octet-stream;base64,");function z(e){if(e==m&&s)return new Uint8Array(s);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}function q(e,t,r){return(s?Promise.resolve().then(()=>z(e)):new Promise((t,r)=>{o(e,e=>t(new Uint8Array(e)),n=>{try{t(z(e))}catch(e){r(e)}})})).then(e=>WebAssembly.instantiate(e,t)).then(r,e=>{W(`failed to asynchronously prepare wasm: ${e}`),M(e)})}var L=e=>{for(;e.length>0;)e.shift()(t)};t.noExitRuntime;var N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Y=(e,t,r)=>{for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&N)return N.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(!(128&i)){o+=String.fromCharCode(i);continue}var s=63&e[t++];if((224&i)==192){o+=String.fromCharCode((31&i)<<6|s);continue}var u=63&e[t++];if((i=(240&i)==224?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var l=i-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}return o},Q=(e,t)=>e?Y(c,e,t):"";class G{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){f[this.ptr+4>>2]=e}get_type(){return f[this.ptr+4>>2]}set_destructor(e){f[this.ptr+8>>2]=e}get_destructor(){return f[this.ptr+8>>2]}set_caught(e){e=e?1:0,l[this.ptr+12]=e}get_caught(){return 0!=l[this.ptr+12]}set_rethrown(e){e=e?1:0,l[this.ptr+13]=e}get_rethrown(){return 0!=l[this.ptr+13]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){f[this.ptr+16>>2]=e}get_adjusted_ptr(){return f[this.ptr+16>>2]}get_exception_ptr(){if(tb(this.get_type()))return f[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var K=0,J=0,Z={},X=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function ee(e){return this.fromWireType(f[e>>2])}var et={},er={},en={},ea=e=>{throw new g(e)},eo=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&ea("Mismatched type converter count");for(var a=0;a<e.length;++a)eu(e[a],n[a])}e.forEach(function(e){en[e]=t});var a=Array(t.length),o=[],i=0;t.forEach((e,t)=>{er.hasOwnProperty(e)?a[t]=er[e]:(o.push(e),et.hasOwnProperty(e)||(et[e]=[]),et[e].push(()=>{a[t]=er[e],++i===o.length&&n(a)}))}),0===o.length&&n(a)},ei=e=>{for(var t="",r=e;c[r];)t+=$[c[r++]];return t},es=e=>{throw new b(e)};function eu(e,t,r={}){if(!("argPackAdvance"in t))throw TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(e||es(`type "${n}" must have a positive integer typeid pointer`),er.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;es(`Cannot register type '${n}' twice`)}if(er[e]=t,delete en[e],et.hasOwnProperty(e)){var a=et[e];delete et[e],a.forEach(e=>e())}}(e,t,r)}var el=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),ec=e=>{es(e.$$.ptrType.registeredClass.name+" instance already deleted")},ep=!1,ed=e=>{},eh=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},ef=e=>{e.count.value-=1,0===e.count.value&&eh(e)},ev=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=ev(e,t,r.baseClass);return null===n?null:r.downcast(n)},ey={},em=[],eg=()=>{for(;em.length;){var e=em.pop();e.$$.deleteScheduled=!1,e.delete()}},e$={},eb=(e,t)=>{for(void 0===t&&es("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},ew=(e,t)=>e$[t=eb(e,t)],eC=(e,t)=>(t.ptrType&&t.ptr||ea("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&ea("Both smartPtrType and smartPtr must be specified"),t.count={value:1},eT(Object.create(e,{$$:{value:t,writable:!0}}))),eT=e=>"undefined"==typeof FinalizationRegistry?(eT=e=>e,e):(ep=new FinalizationRegistry(e=>{ef(e.$$)}),eT=e=>{var t=e.$$;return t.smartPtr&&ep.register(e,{$$:t},e),e},ed=e=>ep.unregister(e),eT(e));function eP(){}var e_=(e,t)=>Object.defineProperty(t,"name",{value:e}),eA=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(...n){return e[t].overloadTable.hasOwnProperty(n.length)||es(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[n.length].apply(this,n)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},eS=(e,r,n)=>{t.hasOwnProperty(e)?((void 0===n||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[n])&&es(`Cannot register public name '${e}' twice`),eA(t,e,e),t.hasOwnProperty(n)&&es(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),t[e].overloadTable[n]=r):(t[e]=r,void 0!==n&&(t[e].numArguments=n))},ek=e=>{if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?`_${e}`:e};function eE(e,t,r,n,a,o,i,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}var eO=(e,t,r)=>{for(;t!==r;)t.upcast||es(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function ej(e,t){if(null===t)return this.isReference&&es(`null is not a valid ${this.name}`),0;t.$$||es(`Cannot pass "${e0(t)}" as a ${this.name}`),t.$$.ptr||es(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass;return eO(t.$$.ptr,r,this.registeredClass)}function eW(e,t){if(null===t)return(this.isReference&&es(`null is not a valid ${this.name}`),this.isSmartPointer)?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t&&t.$$||es(`Cannot pass "${e0(t)}" as a ${this.name}`),t.$$.ptr||es(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&es(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var r,n=t.$$.ptrType.registeredClass;if(r=eO(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&es("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:es(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,eZ.toHandle(()=>a.delete())),null!==e&&e.push(this.rawDestructor,r)}break;default:es("Unsupporting sharing policy")}return r}function eF(e,t){if(null===t)return this.isReference&&es(`null is not a valid ${this.name}`),0;t.$$||es(`Cannot pass "${e0(t)}" as a ${this.name}`),t.$$.ptr||es(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&es(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return eO(t.$$.ptr,r,this.registeredClass)}function eR(e,t,r,n,a,o,i,s,u,l,c){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=l,this.rawDestructor=c,a||void 0!==t.baseClass?this.toWireType=eW:(n?this.toWireType=ej:this.toWireType=eF,this.destructorFunction=null)}var eI=(e,r,n)=>{t.hasOwnProperty(e)||ea("Replacing nonexistent public symbol"),void 0!==t[e].overloadTable&&void 0!==n?t[e].overloadTable[n]=r:(t[e]=r,t[e].argCount=n)},ex=(e,r,n)=>(0,t["dynCall_"+(e=e.replace(/p/g,"i"))])(r,...n),eD=[],eV=e=>{var t=eD[e];return t||(e>=eD.length&&(eD.length=e+1),eD[e]=t=C.get(e)),t},eU=(e,t,r=[])=>e.includes("j")?ex(e,t,r):eV(t)(...r),eH=(e,t)=>(...r)=>eU(e,t,r),eM=(e,t)=>{var r=(e=ei(e)).includes("j")?eH(e,t):eV(t);return"function"!=typeof r&&es(`unknown function pointer with signature ${e}: ${t}`),r},eB=e=>{var t=tm(e),r=ei(t);return t$(t),r},ez=(e,t)=>{var r=[],n={};throw t.forEach(function e(t){if(!n[t]&&!er[t]){if(en[t]){en[t].forEach(e);return}r.push(t),n[t]=!0}}),new T(`${e}: `+r.map(eB).join([", "]))},eq=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(f[t+4*n>>2]);return r};function eL(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function eN(e,t){if(!(e instanceof Function))throw TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var r=e_(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var n=new r,a=e.apply(n,t);return a instanceof Object?a:n}function eY(e,t,r,n,a,o){var i=t.length;i<2&&es("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==t[1]&&null!==r,u=eL(t),l="void"!==t[0].name,c=[e,es,n,a,X,t[0],t[1]],p=0;p<i-2;++p)c.push(t[p+2]);if(!u)for(var p=s?1:2;p<t.length;++p)null!==t[p].destructorFunction&&c.push(t[p].destructorFunction);let[d,h]=function(e,t,r,n){for(var a=eL(e),o=e.length,i="",s="",u=0;u<o-2;++u)i+=(0!==u?", ":"")+"arg"+u,s+=(0!==u?", ":"")+"arg"+u+"Wired";var l=`
        return function (${i}) {
        if (arguments.length !== ${o-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${o-2}');
        }`;a&&(l+="var destructors = [];\n");var c=a?"destructors":"null",p=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];t&&(l+="var thisWired = classParam['toWireType']("+c+", this);\n");for(var u=0;u<o-2;++u)l+="var arg"+u+"Wired = argType"+u+"['toWireType']("+c+", arg"+u+");\n",p.push("argType"+u);if(t&&(s="thisWired"+(s.length>0?", ":"")+s),l+=(r||n?"var rv = ":"")+"invoker(fn"+(s.length>0?", ":"")+s+");\n",a)l+="runDestructors(destructors);\n";else for(var u=t?1:2;u<e.length;++u){var d=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==e[u].destructorFunction&&(l+=`${d}_dtor(${d});
`,p.push(`${d}_dtor`))}return r&&(l+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),[p,l+="}\n"]}(t,s,l,o);return d.push(h),e_(e,eN(Function,d)(...c))}var eQ=e=>{let t=(e=e.trim()).indexOf("(");return -1!==t?e.substr(0,t):e},eG=[],eK=[],eJ=e=>{e>9&&0==--eK[e+1]&&(eK[e]=void 0,eG.push(e))},eZ={toValue:e=>(e||es("Cannot use deleted val. handle = "+e),eK[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=eG.pop()||eK.length;return eK[t]=e,eK[t+1]=1,t}}}},eX={name:"emscripten::val",fromWireType:e=>{var t=eZ.toValue(e);return eJ(e),t},toWireType:(e,t)=>eZ.toHandle(t),argPackAdvance:8,readValueFromPointer:ee,destructorFunction:null},e0=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},e1=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(v[e>>2])};case 8:return function(e){return this.fromWireType(y[e>>3])};default:throw TypeError(`invalid float width (${t}): ${e}`)}},e2=(e,t,r)=>{switch(t){case 1:return r?e=>l[e]:e=>c[e];case 2:return r?e=>p[e>>1]:e=>d[e>>1];case 4:return r?e=>h[e>>2]:e=>f[e>>2];default:throw TypeError(`invalid integer width (${t}): ${e}`)}},e4=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-a},e6=(e,t,r)=>e4(e,c,t,r),e3=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},e5="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,e8=(e,t)=>{for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&d[n];)++n;if((r=n<<1)-e>32&&e5)return e5.decode(c.subarray(e,r));for(var o="",i=0;!(i>=t/2);++i){var s=p[e+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},e7=(e,t,r)=>{if((r??=2147483647)<2)return 0;for(var n=t,a=(r-=2)<2*e.length?r/2:e.length,o=0;o<a;++o){var i=e.charCodeAt(o);p[t>>1]=i,t+=2}return p[t>>1]=0,t-n},e9=e=>2*e.length,te=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var a=h[e+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},tt=(e,t,r)=>{if((r??=2147483647)<4)return 0;for(var n=t,a=n+r-4,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),h[t>>2]=i,(t+=4)+4>a)break}return h[t>>2]=0,t-n},tr=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},tn=[],ta={},to=e=>{var t=ta[e];return void 0===t?ei(e):t},ti=()=>"object"==typeof globalThis?globalThis:Function("return this")(),ts=e=>{var t=tn.length;return tn.push(e),t},tu=(e,t)=>{var r=er[e];return void 0===r&&es(`${t} has unknown type ${eB(e)}`),r},tl=(e,t)=>{for(var r=Array(e),n=0;n<e;++n)r[n]=tu(f[t+4*n>>2],"parameter "+n);return r},tc=(e,t,r)=>{var n=[],a=e.toWireType(n,r);return n.length&&(f[t>>2]=eZ.toHandle(n)),a},tp=()=>2147483648,td=e=>{var t=(e-u.buffer.byteLength+65535)/65536;try{return u.grow(t),R(),1}catch(e){}},th=[null,[],[]],tf=(e,t)=>{var r=th[e];0===t||10===t?((1===e?j:W)(Y(r,0)),r.length=0):r.push(t)};g=t.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},(()=>{for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);$=e})(),b=t.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Object.assign(eP.prototype,{isAliasOf(e){if(!(this instanceof eP)||!(e instanceof eP))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||ec(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=eT(Object.create(Object.getPrototypeOf(this),{$$:{value:el(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||ec(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&es("Object already scheduled for deletion"),ed(this),ef(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ec(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&es("Object already scheduled for deletion"),em.push(this),1===em.length&&w&&w(eg),this.$$.deleteScheduled=!0,this}}),t.getInheritedInstanceCount=()=>Object.keys(e$).length,t.getLiveInheritedInstances=()=>{var e=[];for(var t in e$)e$.hasOwnProperty(t)&&e.push(e$[t]);return e},t.flushPendingDeletes=eg,t.setDelayFunction=e=>{w=e,em.length&&w&&w(eg)},Object.assign(eR.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:8,readValueFromPointer:ee,fromWireType:function(e){var t,r=this.getPointee(e);if(!r)return this.destructor(e),null;var n=ew(this.registeredClass,r);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=r,n.$$.smartPtr=e,n.clone();var a=n.clone();return this.destructor(e),a}function o(){return this.isSmartPointer?eC(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):eC(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i=ey[this.registeredClass.getActualType(r)];if(!i)return o.call(this);t=this.isConst?i.constPointerType:i.pointerType;var s=ev(r,this.registeredClass,t.registeredClass);return null===s?o.call(this):this.isSmartPointer?eC(t.registeredClass.instancePrototype,{ptrType:t,ptr:s,smartPtrType:this,smartPtr:e}):eC(t.registeredClass.instancePrototype,{ptrType:t,ptr:s})}}),T=t.UnboundTypeError=(_=Error,(S=e_(A="UnboundTypeError",function(e){this.name=A,this.message=e;var t=Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create(_.prototype),S.prototype.constructor=S,S.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},S),eK.push(0,1,void 0,1,null,1,!0,1,!1,1),t.count_emval_handles=()=>eK.length/2-5-eG.length;var tv={b:(e,t,r,n)=>{M(`Assertion failed: ${Q(e)}, at: `+[t?Q(t):"unknown filename",r,n?Q(n):"unknown function"])},n:(e,t,r)=>{throw new G(e).init(t,r),K=e,J++,K},x:()=>{M("")},i:e=>{var t=Z[e];delete Z[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields;eo([e],a.map(e=>e.getterReturnType).concat(a.map(e=>e.setterArgumentType)),e=>{var o={};return a.forEach((t,r)=>{var n=t.fieldName,i=e[r],s=t.getter,u=t.getterContext,l=e[r+a.length],c=t.setter,p=t.setterContext;o[n]={read:e=>i.fromWireType(s(u,e)),write:(e,t)=>{var r=[];c(p,e,l.toWireType(r,t)),X(r)}}}),[{name:t.name,fromWireType:e=>{var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:(e,t)=>{for(var a in o)if(!(a in t))throw TypeError(`Missing field: "${a}"`);var i=r();for(a in o)o[a].write(i,t[a]);return null!==e&&e.push(n,i),i},argPackAdvance:8,readValueFromPointer:ee,destructorFunction:n}]})},u:(e,t,r,n,a)=>{},z:(e,t,r,n)=>{eu(e,{name:t=ei(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(c[e])},destructorFunction:null})},t:(e,t,r,n,a,o,i,s,u,l,c,p,d)=>{c=ei(c),o=eM(a,o),s&&=eM(i,s),l&&=eM(u,l),d=eM(p,d);var h=ek(c);eS(h,function(){ez(`Cannot construct ${c} due to unbound types`,[n])}),eo([e,t,r],n?[n]:[],t=>{t=t[0],a=n?(r=t.registeredClass).instancePrototype:eP.prototype;var r,a,i=e_(c,function(...e){if(Object.getPrototypeOf(this)!==u)throw new b("Use 'new' to construct "+c);if(void 0===p.constructor_body)throw new b(c+" has no accessible constructor");var t=p.constructor_body[e.length];if(void 0===t)throw new b(`Tried to invoke ctor of ${c} with invalid number of parameters (${e.length}) - expected (${Object.keys(p.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)}),u=Object.create(a,{constructor:{value:i}});i.prototype=u;var p=new eE(c,i,u,d,r,o,s,l);p.baseClass&&(p.baseClass.__derivedClasses??=[],p.baseClass.__derivedClasses.push(p));var f=new eR(c,p,!0,!1,!1),v=new eR(c+"*",p,!1,!1,!1),y=new eR(c+" const*",p,!1,!0,!1);return ey[e]={pointerType:v,constPointerType:y},eI(h,i),[f,v,y]})},s:(e,t,r,n,a,o)=>{var i=eq(t,r);a=eM(n,a),eo([],[e],e=>{e=e[0];var r=`constructor ${e.name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new b(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{ez(`Cannot construct ${e.name} due to unbound types`,i)},eo([],i,n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=eY(r,n,null,a,o),[])),[]})},r:(e,t,r,n,a,o,i,s,u)=>{var l=eq(r,n);t=eQ(t=ei(t)),o=eM(a,o),eo([],[e],e=>{e=e[0];var n=`${e.name}.${t}`;function a(){ez(`Cannot call ${n} due to unbound types`,l)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,p=c[t];return void 0===p||void 0===p.overloadTable&&p.className!==e.name&&p.argCount===r-2?(a.argCount=r-2,a.className=e.name,c[t]=a):(eA(c,t,n),c[t].overloadTable[r-2]=a),eo([],l,a=>{var s=eY(n,a,e,o,i,u);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]}),[]})},y:e=>eu(e,eX),m:(e,t,r)=>{eu(e,{name:t=ei(t),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:8,readValueFromPointer:e1(t,r),destructorFunction:null})},c:(e,t,r,n,a)=>{t=ei(t),-1===a&&(a=4294967295);var o=e=>e;if(0===n){var i=32-8*r;o=e=>e<<i>>>i}var s=t.includes("unsigned"),u=(e,t)=>{};eu(e,{name:t,fromWireType:o,toWireType:s?function(e,t){return u(t,this.name),t>>>0}:function(e,t){return u(t,this.name),t},argPackAdvance:8,readValueFromPointer:e2(t,r,0!==n),destructorFunction:null})},a:(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function a(e){var t=f[e>>2],r=f[e+4>>2];return new n(l.buffer,r,t)}eu(e,{name:r=ei(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},k:(e,t)=>{var r="std::string"===(t=ei(t));eu(e,{name:t,fromWireType(e){var t,n=f[e>>2],a=e+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==c[s]){var u=s-o,l=Q(o,u);void 0===t?t=l:t+="\0"+l,o=s+1}}else{for(var p=Array(n),i=0;i<n;++i)p[i]=String.fromCharCode(c[a+i]);t=p.join("")}return t$(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||es("Cannot pass non-string to std::string"),n=r&&a?e3(t):t.length;var o=tg(4+n+1),i=o+4;if(f[o>>2]=n,r&&a)e6(t,i,n+1);else if(a)for(var s=0;s<n;++s){var u=t.charCodeAt(s);u>255&&(t$(i),es("String has UTF-16 code units that do not fit in 8 bits")),c[i+s]=u}else for(var s=0;s<n;++s)c[i+s]=t[s];return null!==e&&e.push(t$,o),o},argPackAdvance:8,readValueFromPointer:ee,destructorFunction(e){t$(e)}})},f:(e,t,r)=>{var n,a,o,i;r=ei(r),2===t?(n=e8,a=e7,i=e9,o=e=>d[e>>1]):4===t&&(n=te,a=tt,i=tr,o=e=>f[e>>2]),eu(e,{name:r,fromWireType:e=>{for(var r,a=f[e>>2],i=e+4,s=0;s<=a;++s){var u=e+4+s*t;if(s==a||0==o(u)){var l=u-i,c=n(i,l);void 0===r?r=c:r+="\0"+c,i=u+t}}return t$(e),r},toWireType:(e,n)=>{"string"!=typeof n&&es(`Cannot pass non-string to C++ string type ${r}`);var o=i(n),s=tg(4+o+t);return f[s>>2]=o/t,a(n,s+4,o+t),null!==e&&e.push(t$,s),s},argPackAdvance:8,readValueFromPointer:ee,destructorFunction(e){t$(e)}})},l:(e,t,r,n,a,o)=>{Z[e]={name:ei(t),rawConstructor:eM(r,n),rawDestructor:eM(a,o),fields:[]}},d:(e,t,r,n,a,o,i,s,u,l)=>{Z[e].fields.push({fieldName:ei(t),getterReturnType:r,getter:eM(n,a),getterContext:o,setterArgumentType:i,setter:eM(s,u),setterContext:l})},A:(e,t)=>{eu(e,{isVoid:!0,name:t=ei(t),argPackAdvance:0,fromWireType:()=>void 0,toWireType:(e,t)=>void 0})},w:(e,t,r)=>c.copyWithin(e,t,t+r),C:(e,t,r,n)=>(e=tn[e])(null,t=eZ.toValue(t),r,n),o:(e,t,r,n,a)=>(e=tn[e])(t=eZ.toValue(t),t[r=to(r)],n,a),h:eJ,D:e=>0===e?eZ.toHandle(ti()):(e=to(e),eZ.toHandle(ti()[e])),e:(e,t,r)=>{var n=tl(e,t),a=n.shift();e--;var o=`return function (obj, func, destructorsRef, args) {
`,i=0,s=[];0===r&&s.push("obj");for(var u=["retType"],l=[a],c=0;c<e;++c)s.push("arg"+c),u.push("argType"+c),l.push(n[c]),o+=`  var arg${c} = argType${c}.readValueFromPointer(args${i?"+"+i:""});
`,i+=n[c].argPackAdvance;o+=`  var rv = ${1===r?"new func":"func.call"}(${s.join(", ")});
`,a.isVoid||(u.push("emval_returnValue"),l.push(tc),o+="  return emval_returnValue(retType, destructorsRef, rv);\n"),o+="};\n",u.push(o);var p=eN(Function,u)(...l);return ts(e_(`methodCaller<(${n.map(e=>e.name).join(", ")}) => ${a.name}>`,p))},p:e=>{e>9&&(eK[e+1]+=1)},B:()=>eZ.toHandle([]),g:e=>{X(eZ.toValue(e)),eJ(e)},q:(e,t)=>{var r=(e=tu(e,"_emval_take_value")).readValueFromPointer(t);return eZ.toHandle(r)},v:e=>{var t=c.length;e>>>=0;var r=tp();if(e>r)return!1;for(var n=(e,t)=>e+(t-e%t)%t,a=1;a<=4;a*=2){var o=t*(1+.2/a);if(o=Math.min(o,e+100663296),td(Math.min(r,n(Math.max(e,o),65536))))return!0}return!1},j:(e,t,r,n)=>{for(var a=0,o=0;o<r;o++){var i=f[t>>2],s=f[t+4>>2];t+=8;for(var u=0;u<s;u++)tf(e,c[i+u]);a+=s}return f[n>>2]=a,0}},ty=function(){var e,n,o,i={a:tv};function l(e,r){var n;return u=(ty=e.exports).E,R(),C=ty.I,n=ty.F,x.unshift(n),!function(e){if(V--,t.monitorRunDependencies?.(V),0==V&&(null!==U&&(clearInterval(U),U=null),H)){var r=H;H=null,r()}}(0),ty}if(V++,t.monitorRunDependencies?.(V),t.instantiateWasm)try{return t.instantiateWasm(i,l)}catch(e){W(`Module.instantiateWasm callback failed with error: ${e}`),a(e)}return m||(m=function(){if(t.locateFile){var e="diff.wasm";return B(e)?e:t.locateFile?t.locateFile(e,O):O+e}return new URL(r(7722),r.b).href}()),(e=s,n=m,o=function(e){l(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||B(n)||"function"!=typeof fetch?q(n,i,o):fetch(n,{credentials:"same-origin"}).then(e=>WebAssembly.instantiateStreaming(e,i).then(o,function(e){return W(`wasm streaming compile failed: ${e}`),W("falling back to ArrayBuffer instantiation"),q(n,i,o)}))).catch(a),{}}(),tm=e=>(tm=ty.G)(e),tg=e=>(tg=ty.H)(e),t$=e=>(t$=ty.J)(e),tb=e=>(tb=ty.K)(e);function tw(){!(V>0)&&(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;){var e;e=t.preRun.shift(),I.unshift(e)}L(I)}(),V>0||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e()));function e(){!P&&(P=!0,t.calledRun=!0,F||(L(x),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e;e=t.postRun.shift(),D.unshift(e)}L(D)}()))}}if(t.dynCall_jiji=(e,r,n,a,o)=>(t.dynCall_jiji=ty.L)(e,r,n,a,o),H=function e(){P||tw(),P||(H=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return tw(),k}})();let y={hfAsymmetry:1,goodQualitySeek:1.5,badQualitySeek:.5};function m(e){return n||(n=(e?v({locateFile:()=>e}):v()).then(e=>{a=e}))}function g(e,t){let r=e.data.byteLength,n=t.data.byteLength;if(r!==n)throw Error(`Image data have different length ${r} vs. ${n}`);let a=r/e.width/e.height;if(3!==a&&4!==a)throw Error("Image must be RGB or RGBA in colors");if(e.width!==t.width)throw Error(`Image have different width ${e.width} vs. ${t.width}`);if(e.height!==t.height)throw Error(`Image have different width ${e.height} vs. ${t.height}`)}class ${native;reference;constructor(e){this.reference=e,this.native=new a.ButteraugliDiff(e)}close(){this.native.delete()}diff(e,t){if(!n)throw Error("Wasm module not load");g(this.reference,e);let r={...y,...t};if(r.badQualitySeek<0||r.badQualitySeek>=2)throw Error("badQualitySeek must between 0, 2");if(r.goodQualitySeek<0||r.goodQualitySeek>=2)throw Error("goodQualitySeek must between 0, 2");return this.native.Diff(e.data,r)}}var b=r(7722);function w(e){return e({noInitialRun:!0})}function C(e){let t;return async(r,n)=>{let{data:a,width:o,height:i}=r,s=await (t??=e()),u=performance.now(),l=s.encode(a,o,i,n),c=performance.now();if(!l)throw Error("Encoding error");let p={time:(c-u)/1e3,buffer:l.buffer};return d.yo.transfer(p,[p.buffer])}}function T(e){let t;return async r=>{let n=(await (t??=e())).decode(r);if(!n)throw Error("Decoding error");return d.yo.transfer(n,[n.data.buffer])}}let P={GRAYSCALE:1,RGB:2,YCbCr:3},_={"JPEG Annex K":0,Flat:1,"MSSIM-tuned Kodak":2,ImageMagick:3,"PSNR-HVS-M-tuned Kodak":4,"Klein et al":5,"Watson et al":6,"Ahumada et al":7,"Peterson et al":8},A={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:P.YCbCr,quant_table:_.ImageMagick,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},S=C(async()=>w((await r.e(430).then(r.bind(r,7430))).default)),k={effort:7,quality:75,progressive:!1,epf:-1,lossyPalette:!1,decodingSpeedTier:0,photonNoiseIso:0,lossyModular:!1},E=C(async()=>w((await r.e(726).then(r.bind(r,4726))).default)),O=T(async()=>w((await r.e(986).then(r.bind(r,6986))).default)),j={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},W=C(async()=>w((await r.e(416).then(r.bind(r,9416))).default)),F={YUV400:0,YUV420:1,YUV422:2,YUV444:3},R={auto:0,psnr:1,ssim:3},I={cqLevel:33,cqAlphaLevel:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:F.YUV420,chromaDeltaQ:!1,sharpness:0,tune:R.auto},x=C(async()=>w((await r.e(486).then(r.bind(r,2486))).default)),D=T(async()=>w((await r.e(334).then(r.bind(r,7334))).default)),V={Auto:3,Vary:0,Half:1,Off:2},U={YCoCg:0,YCbCr:1,YIQ:3},H={quality:75,alpha_quality:75,effort:5,pass:1,sns:50,uv_mode:V.Auto,csp_type:U.YCoCg,error_diffusion:0,use_random_matrix:!1},M=C(async()=>w((await r.e(994).then(r.bind(r,4994))).default)),B=T(async()=>w((await r.e(714).then(r.bind(r,8714))).default));function z(e){return t=>e.encode(o,t)}let q={setOriginal(e){o=e},mozjpegEncode:z(s),jxlEncode:z(u),webpEncode:z(l),avifEncode:z(c),webp2Encode:z(p),jxlDecode:O,avifDecode:D,webp2Decode:B,async calcSSIM(e,t){var r;return await m(b),r=o,f()(r,e,t).mssim},calcPSNR:async e=>(await m(b),function(e,t){if(!a)throw Error("Wasm module not loaded");g(e,t);let r=e.data,n=t.data,{length:o}=r,i=0;for(let e=0;e<o;e++){let t=r[e]-n[e];i+=t*t}return 10*Math.log10(65025/i*o)}(o,e)),async calcButteraugli(e,t){await m(b);let[r,n]=(i??=new $(o)).diff(e,t);return{score:r,heatMap:d.yo.transfer(n,[n.buffer])}}};d.yo.probeServer(q,self)},7722:(e,t,r)=>{e.exports=r.p+"s/diff.wasm"}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[128],()=>r(3044));return r.O(e)},(()=>{var e=[];r.O=(t,n,a,o)=>{if(n){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,a,o];return}for(var s=1/0,i=0;i<e.length;i++){for(var[n,a,o]=e[i],u=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every(e=>r.O[e](n[l]))?n.splice(l--,1):(u=!1,o<s&&(s=o));if(u){e.splice(i--,1);var c=a();void 0!==c&&(t=c)}}return t}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"s/"+e+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.importScripts&&(e=r.g.location+"");var e,t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})(),(()=>{r.b=self.location+"/../../";var e={44:1};r.f.i=(t,n)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkic_analyzer=self.webpackChunkic_analyzer||[],n=t.push.bind(t);t.push=t=>{var[a,o,i]=t;for(var s in o)r.o(o,s)&&(r.m[s]=o[s]);for(i&&i(r);a.length;)e[a.pop()]=1;n(t)}})(),(()=>{var e=r.x;r.x=()=>r.e(128).then(e)})(),r.x()})();
//# sourceMappingURL=44.js.map